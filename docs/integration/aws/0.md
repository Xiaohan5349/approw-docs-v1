<IntegrationDetailCard :title="`Configure {{$localeConfig.brandName}} SAML2 IDP`">

Firstly create an app in {{$localeConfig.brandName}}. Go to [Approw Console](https://console.approw.com) > **Applications**, click **"Create Application"**.

![](~@imagesEnUs/integration/ali-cloud/1-4.jpg)

Fill in the Application Name, Certification address and Callback URL, then click **"Create"**.

![](~@imagesEnUs/integration/tencent-cloud/1-1.jpg)

Find your application in [Console](https://console.approw.com/) > **Applications**, click **"settings"**.
![](~@imagesEnUs/integration/aws/1-1.png)

Click your applications to open details page, click the **"Enable Identity Provider"** tab, turn on the **"Enable SAML2 Provider"** and fill in Default ACS address with `https://signin.aws.amazon.com/saml`.

![](~@imagesEnUs/integration/aws/1-2.png)

You can configure settings like below:

```json
{
  "audience": "https://signin.aws.amazon.com/saml",
  "recipient": "https://signin.aws.amazon.com/saml",
  "destination": "https://signin.aws.amazon.com/saml",
  "mappings": {
    "email": "https://aws.amazon.com/SAML/Attributes/RoleSessionName"
  },
  "digestAlgorithm": "http://www.w3.org/2000/09/xmldsig#sha1",
  "signatureAlgorithm": "http://www.w3.org/2000/09/xmldsig#rsa-sha1",
  "authnContextClassRef": "urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified",
  "lifetimeInSeconds": 3600,
  "signResponse": false,
  "nameIdentifierFormat": "urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress",
  "samlRequestSigningCert": ""
}
```

Add one Custom SAML Response Attributes, fill name field with `https://aws.amazon.com/SAML/Attributes/Role`ï¼Œselect **Uri** and then fill with content like this `arn:aws:iam::<AWS Account ID>:role/<Role Name>, arn:aws:iam::<AWS Account ID>:saml-provider/<Identity Provider Name>`.

For `<AWS Account ID>`, `<Role Name>` and `<Identity Provider Name>`, we will create in next step.
Save your changes, then download the SAML2 Identity Provider's metadata:<br>
https<span>://core<span>.approw.com<span>/api/v2/saml-idp/<applicationID\>/metadata

![](~@imagesEnUs/integration/aws/1-3.png)

</IntegrationDetailCard>
